(function(t){function e(e){for(var s,n,r=e[0],c=e[1],l=e[2],d=0,f=[];d<r.length;d++)n=r[d],o[n]&&f.push(o[n][0]),o[n]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(f.length)f.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,r=1;r<a.length;r++){var c=a[r];0!==o[c]&&(s=!1)}s&&(i.splice(e--,1),t=n(n.s=a[0]))}return t}var s={},o={app:0},i=[];function n(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=s,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0b86":function(t,e,a){t.exports=a.p+"img/camera.4e96695c.svg"},"2d07":function(t,e,a){},3612:function(t,e,a){"use strict";var s=a("df6f"),o=a.n(s);o.a},4678:function(t,e,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb718","./de-ch.js":"bb718","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function o(t){var e=i(t);return a(e)}function i(t){var e=s[t];if(!(e+1)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return e}o.keys=function(){return Object.keys(s)},o.resolve=i,t.exports=o,o.id="4678"},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("097d");var s=a("2b0e"),o=a("bb71");a("da64");s["default"].use(o["a"],{iconfont:"md"});var i=a("2ead"),n=a.n(i);s["default"].use(n.a);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-toolbar",{attrs:{color:"#f25a78",dark:"",app:"",fixed:""}},[a("v-btn",{staticStyle:{"text-decoration":"none"},attrs:{icon:"",large:"",to:"/Feed"}},[a("v-icon",{attrs:{large:"",color:"#fff"}},[t._v("camera")])],1),a("v-toolbar-title",{staticClass:"headline text"},[a("span",{staticStyle:{"font-size":"25px"}},[t._v("PHOTOFLICK")])]),a("v-spacer"),this.$session.exists()?a("v-text-field",{staticStyle:{"margin-right":"17em!important"},attrs:{flat:"","solo-inverted":"","hide-details":"","append-icon":"search",label:"Pesquise por utilizadores"},on:{"click:append":function(e){t.search()},keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.search()}},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}}):t._e(),this.$session.exists()?t._e():a("v-btn",{staticStyle:{"text-decoration":"none"},attrs:{flat:"",color:"#fff",to:"/"}},[a("v-icon",{attrs:{dark:"",left:""}},[t._v("person")]),t._v("Login\n        ")],1),this.$session.exists()?t._e():a("v-btn",{staticStyle:{"text-decoration":"none"},attrs:{flat:"",color:"#22313f",to:"/Register"}},[a("v-icon",{attrs:{dark:"",left:""}},[t._v("person_add")]),t._v("Registar\n        ")],1),this.$session.exists()&&null!=t.getUser.username?a("div",[a("v-avatar",{attrs:{slot:"activator",size:"36px"},slot:"activator"},[a("img",{attrs:{id:"profile",src:"http://localhost:3000/public/uploads/profile/"+t.getUser.foto,alt:"Avatar",width:"36",height:"36"}})]),a("strong",{staticStyle:{"margin-left":"15px"},domProps:{innerHTML:t._s(t.getUser.nome)}})],1):t._e(),a("div"),this.$session.exists()?a("v-menu",{attrs:{bottom:"",left:""}},[a("v-btn",{attrs:{slot:"activator",dark:"",icon:""},slot:"activator"},[a("v-icon",{attrs:{color:"#22313f"}},[t._v("more_vert")])],1),a("v-list",[a("v-list-tile",{style:{cursor:"pointer"}},[a("v-list-tile-title",{on:{click:t.account}},[a("v-icon",{attrs:{left:"",color:"#22313f"}},[t._v("account_circle")]),t._v("Perfil\n                    ")],1)],1),a("v-list-tile",{style:{cursor:"pointer"}},[a("v-list-tile-title",{on:{click:t.logout}},[a("v-icon",{attrs:{left:"",color:"#22313f"}},[t._v("exit_to_app")]),t._v("Logout\n                    ")],1)],1)],1)],1):t._e()],1),a("div",{staticClass:"hidden-md-and-up"},[a("v-expansion-panel",[a("v-expansion-panel-content",[a("div",{attrs:{slot:"header"},slot:"header"},[a("v-btn",{attrs:{icon:""}},[a("v-icon",{attrs:{large:"",color:"#f25a78"}},[t._v("camera")])],1)],1),this.$session.exists()?t._e():a("v-list",[a("v-list-tile",{on:{click:function(e){t.loginPage()}}},[a("v-list-tile-title",[a("v-icon",{attrs:{left:"",color:"#22313f"}},[t._v("person")]),t._v("Login\n                        ")],1)],1),a("v-list-tile",{style:{cursor:"pointer"},on:{click:function(e){t.registerPage()}}},[a("v-list-tile-title",{on:{click:t.logout}},[a("v-icon",{attrs:{left:"",color:"#22313f"}},[t._v("person_add")]),t._v("Registar\n                        ")],1)],1)],1),this.$session.exists()?a("v-list",[a("v-list-tile",[null!=t.getUser.username?a("v-list-tile-title",[a("v-avatar",{attrs:{slot:"activator",size:"36px"},slot:"activator"},[a("img",{attrs:{id:"profile",src:"http://localhost:3000/public/uploads/profile/"+t.getUser.foto,alt:"Avatar",width:"36",height:"36"}})]),a("strong",{staticStyle:{"margin-left":"15px"},domProps:{innerHTML:t._s(t.getUser.nome)}})],1):t._e()],1),a("v-list-tile",[a("v-list-tile-title",[a("v-icon",{attrs:{left:"",color:"#22313f"}},[t._v("settings")]),t._v("Definições\n                        ")],1)],1),a("v-list-tile",{style:{cursor:"pointer"}},[a("v-list-tile-title",{on:{click:t.logout}},[a("v-icon",{attrs:{left:"",color:"#22313f"}},[t._v("exit_to_app")]),t._v("Logout\n                        ")],1)],1)],1):t._e()],1)],1)],1),a("v-dialog",{attrs:{scrollable:"",width:"450"},model:{value:t.dialog_search,callback:function(e){t.dialog_search=e},expression:"dialog_search"}},[a("v-card",[a("v-card-title",{staticClass:"headline #f03434 font-weight-light mb-3"},[a("v-icon",{staticClass:"mr-2",attrs:{color:"#000"}},[t._v("search")]),t._v("Resultados da pesquisa ...\n                "),a("v-spacer"),a("v-icon",{staticClass:"mr-2",style:{cursor:"pointer"},attrs:{color:"#000"},on:{click:function(e){t.dialog_search=!1}}},[t._v("close")])],1),a("v-card-text",{staticStyle:{"padding-top":"0px","max-height":"200px!important"}},[t._l(t.searchResults,function(e,s){return a("div",{key:s,staticClass:"container",staticStyle:{"padding-top":"0px","padding-bottom":"20px"}},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-12"},[a("v-avatar",{attrs:{slot:"activator",size:"30px"},slot:"activator"},[null!=e.foto?a("img",{attrs:{id:"profile",src:"http://localhost:3000/public/uploads/profile/"+e.foto,alt:"Avatar"}}):t._e()]),a("span",{staticClass:"subheading font-weight-light ml-3",style:{cursor:"pointer"},on:{click:function(a){t.changePage(e.username)}}},[t._v(t._s(e.nome))])],1)])])}),0==t.searchResults.length?a("span",{staticClass:"subheading font-weight-light ml-3"},[t._v("Sem resultados!!!")]):t._e()],2)],1)],1),a("v-content",[a("router-view")],1)],1)},c=[],l=a("cebc"),u=(a("7514"),a("2f62")),d=a("bc3a"),f=a.n(d),p=io("http://localhost:3000/"),m={data:function(){return{items:[{title:"Definições",function:"Logout"},{title:"Logout",function:"Logout"}],searchResults:[{}],url:"",searchText:"",dialog_search:!1,loginUserSeguidores:[{}]}},methods:{logout:function(){this.$session.destroy(),this.$router.push("/")},loginPage:function(){this.$router.push("/")},registerPage:function(){this.$router.push("/Register")},account:function(){this.$forceUpdate(),this.$router.push("/UserPage/"+this.getUser.username)},search:function(){var t=this;this.$store.dispatch("users/searchUser",this.searchText).then(function(e){t.searchResults=e,t.dialog_search=!0,t.searchText=""})},changePage:function(t){this.dialog_search=!1,this.$router.push("/UserPage/"+t)},isFollowed:function(t){var e=this.loginUserSeguidores.find(function(e){return e.id_user==t});return!!e},followFollower:function(t){var e=this,a={id_seguidor:this.getUser.id_user,id_seguido:t};this.$store.dispatch("users/addFollower",a).then(function(t){e.$store.dispatch("users/getFollowing",e.getUser.id_user).then(function(t){e.loginUserSeguidores=t})})}},computed:Object(l["a"])({},Object(u["b"])({getUser:"session/getUser"})),beforeCreate:function(){var t=this;this.$session.exists()&&this.$store.dispatch("session/setUser",this.$session.get("id")).then(function(e){var a=t;p.on("like",function(t){f.a.get("http://localhost:3000/posts/getPostByUser/"+t.id_publicacao+"/"+a.getUser.id_user).then(function(e){e.data.length>0&&f.a.post("http://localhost:3000/user/getUser",{id:t.id_user}).then(function(t){console.log(t),iziToast.show({title:"",messageColor:"#fff",iconColor:"#fff",icon:"fas fa-bell",message:t.data[0].username+" gostou da sua foto",image:"http://localhost:3000/public/uploads/profile/"+t.data[0].foto,imageWidth:100,color:"#f25a78",titleLineHeight:60,maxWidth:400,messageLineHeight:60,progressBarColor:"#fff"})}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})}),p.on("comment",function(t){f.a.get("http://localhost:3000/posts/getPostByUser/"+t.id_publicacao+"/"+a.getUser.id_user).then(function(e){e.data.length>0&&f.a.post("http://localhost:3000/user/getUser",{id:t.id_user}).then(function(e){console.log(e),iziToast.show({title:"",messageColor:"#fff",iconColor:"#fff",icon:"fas fa-comments",message:e.data[0].username+' comentou "'+t.comentario+'"',image:"http://localhost:3000/public/uploads/profile/"+e.data[0].foto,imageWidth:100,color:"#f25a78",titleLineHeight:60,maxWidth:800,messageLineHeight:60,progressBarColor:"#fff"})}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})})})},created:function(){var t=this;this.$session.exists()&&this.$store.dispatch("session/setUser",this.$session.get("id")).then(function(e){t.$store.dispatch("users/getFollowing",t.getUser.id_user).then(function(e){t.loginUserSeguidores=e,console.log(t.loginUserSeguidores)})})}},v=m,h=(a("3612"),a("2877")),g=a("6544"),b=a.n(g),_=a("7496"),w=a("8212"),x=a("8336"),k=a("b0af"),j=a("99d9"),y=a("12b2"),C=a("549c"),U=a("169a"),S=a("cd55"),F=a("49e2"),V=a("132d"),P=a("8860"),z=a("ba95"),L=a("5d23"),T=a("e449"),O=a("9910"),D=a("2677"),R=a("71d9"),A=a("2a7f"),E=Object(h["a"])(v,r,c,!1,null,"00d8af72",null);E.options.__file="App.vue";var M=E.exports;b()(E,{VApp:_["a"],VAvatar:w["a"],VBtn:x["a"],VCard:k["a"],VCardText:j["b"],VCardTitle:y["a"],VContent:C["a"],VDialog:U["a"],VExpansionPanel:S["a"],VExpansionPanelContent:F["a"],VIcon:V["a"],VList:P["a"],VListTile:z["a"],VListTileTitle:L["a"],VMenu:T["a"],VSpacer:O["a"],VTextField:D["a"],VToolbar:R["a"],VToolbarTitle:A["a"]});var q=a("8c4f"),I=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-img",{staticClass:"my-3",attrs:{src:a("0b86"),contain:"",height:"100"}})],1)],1),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{"mb-4":"",xs12:""}},[s("h1",{staticClass:"display-2 font-weight-bold mb-3"},[t._v("\n                Bem-vindo!\n            ")])])],1),s("v-layout",{attrs:{row:"","justify-center":""}},[s("v-flex",{staticClass:"text-xs-center",attrs:{xs4:""}},[s("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[s("v-text-field",{attrs:{rules:[t.rules.required],label:"Username",color:"#f25a78",outline:"",required:""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),s("v-text-field",{attrs:{rules:[t.rules.required],"append-icon":t.show?"visibility_off":"visibility",color:"#f25a78",outline:"",type:t.show?"text":"password",name:"input-10-1",label:"Password"},on:{"click:append":function(e){t.show=!t.show}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),s("v-btn",{attrs:{color:"#f25a78"},on:{click:t.validate}},[t._v("\n                    Login\n                ")])],1)],1)],1),s("v-snackbar",{attrs:{color:"error","multi-line":!1,timeout:6e3,top:!0},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n        "+t._s(t.text)+"\n        "),s("v-btn",{attrs:{dark:"",flat:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n            Close\n        ")])],1)],1)},H=[],Y={data:function(){return{valid:!1,show:!1,error:!1,text:"",snackbar:!1,username:"",password:"",rules:{required:function(t){return!!t||"Campo obrigatório"}}}},computed:Object(l["a"])({},Object(u["b"])({getUser:"session/getUser"})),beforeCreate:function(){this.$session.exists()&&this.$router.push("/Feed")},methods:{validate:function(){var t=this;if(this.$refs.form.validate()){var e={user:this.username,pass:this.password};this.$store.dispatch("session/checkUser",e).then(function(e){e?(t.$session.start(),t.$session.set("id",e),t.$router.push("/Feed")):(t.text="Credenciais incorretas!",t.snackbar=!0,t.$refs.form.reset())})}}},created:function(){this.getUser}},N=Y,B=(a("ce73"),a("a523")),G=a("0e8f"),W=a("4bd4"),J=a("adda"),K=a("a722"),Q=a("2db4"),X=Object(h["a"])(N,I,H,!1,null,"0bfb57d0",null);X.options.__file="Login.vue";var Z=X.exports;b()(X,{VBtn:x["a"],VContainer:B["a"],VFlex:G["a"],VForm:W["a"],VImg:J["a"],VLayout:K["a"],VSnackbar:Q["a"],VTextField:D["a"]});var tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-form",{model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[s("v-layout",{attrs:{row:"","mb-4":"","mt-5":""}},[s("v-flex",{attrs:{xs12:""}},[s("v-img",{staticClass:"my-3",attrs:{src:a("6e7d"),contain:"",height:"100"}})],1)],1),s("v-container",[s("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[s("v-layout",{attrs:{row:"","align-center":"","justify-center":""}},[s("v-flex",{staticClass:"justify-center",attrs:{xs6:"",md4:"","mr-5":""}},[s("v-text-field",{attrs:{rules:t.emailRules,label:"E-mail",required:"",color:"#f25a78",outline:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),s("v-text-field",{attrs:{rules:t.usernameRules,counter:10,label:"Username",required:"",color:"#f25a78",outline:""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),s("v-text-field",{attrs:{label:"Password",rules:t.passwordRules,required:"",color:"#f25a78",outline:"",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),s("v-flex",{attrs:{xs6:"",md4:"","mr-5":""}},[s("v-text-field",{attrs:{rules:t.nameRules,label:"Nome",counter:30,required:"",color:"#f25a78",outline:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[s("v-text-field",{attrs:{slot:"activator",label:"Data de nascimento","prepend-icon":"event",readonly:""},slot:"activator",model:{value:t.computedDateFormatted,callback:function(e){t.computedDateFormatted=e},expression:"computedDateFormatted"}}),s("v-date-picker",{attrs:{color:"#f25a78",locale:"pt-pt"},on:{input:function(e){t.menu2=!1}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1)],1),s("v-layout",{attrs:{row:"","justify-center":""}},[s("v-flex",{attrs:{xs6:"",md3:""}},[s("v-btn",{attrs:{id:"registar",block:"",color:"#f25a78"},on:{click:t.checkForm}},[t._v("\r\n                        Registar\r\n                    ")])],1)],1)],1)],1),s("v-layout",{attrs:{row:"","justify-center":""}},[s("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-card",[s("v-card-title",[s("v-icon",{staticClass:"mr-2",attrs:{large:"",color:"#22313f"}},[t._v("cloud_upload")]),s("span",{staticClass:"headline"},[t._v("Carregar foto de perfil")])],1),s("v-card-text",[s("v-container",{attrs:{"grid-list-md":""}},[s("v-layout",{attrs:{wrap:""}},[s("div",{staticClass:"file-upload"},[s("div",{staticClass:"image-upload-wrap"},[s("form",{attrs:{id:"uploadPic",method:"post",enctype:"multipart/form-data",action:""}},[s("input",{staticClass:"file-upload-input",attrs:{id:"file",name:"file",type:"file",accept:"image/*"},on:{change:t.readURL}})]),s("div",{staticClass:"drag-text"},[s("h3",[t._v("Arraste uma imagem para aqui")])])]),s("div",{staticClass:"file-upload-content"},[s("img",{staticClass:"file-upload-image",attrs:{src:"#",alt:"your image"}}),s("div",{staticClass:"image-title-wrap"},[s("v-btn",{staticClass:"white--text",attrs:{color:"blue-grey"},on:{click:t.removeUpload}},[s("v-icon",{attrs:{left:"",dark:""}},[t._v("delete")]),t._v("Remover\r\n                                        ")],1)],1)])])])],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"error"},on:{click:t.resetForm}},[t._v("Cancelar")]),s("v-btn",{attrs:{color:"success"},on:{click:t.checkFiles}},[t._v("Gravar")])],1)],1)],1)],1),s("v-snackbar",{attrs:{color:"error","multi-line":!1,timeout:6e3,top:!0},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\r\n        Obrigatório fazer upload de imagem de perfil\r\n        "),s("v-btn",{attrs:{dark:"",flat:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\r\n            Fechar\r\n        ")])],1)],1)},et=[],at=(a("7f7f"),a("28a5"),a("768b")),st={data:function(){return{valid:!1,dialog:!1,snackbar:!1,selectedFile:null,email:"",username:"",password:"",name:"",emailRules:[function(t){return!!t||"E-mail é um campo obrigatório"},function(t){return/.+@.+/.test(t)||"Registe um e-mail válido"}],nameRules:[function(t){return!!t||"Nome é um campo obrigatório"},function(t){return t.length<=30||"O nome deve conter menos de 30 carateres"}],usernameRules:[function(t){return!!t||"Username é um campo obrigatório"},function(t){return t.length<=10||"O username deve conter menos de 10 carateres"}],passwordRules:[function(t){return!!t||"Password é um campo obrigatório"}],date:(new Date).toISOString().substr(0,10),menu2:!1}},computed:{computedDateFormatted:function(){return this.formatDate(this.date)}},methods:{formatDate:function(t){if(!t)return null;var e=t.split("-"),a=Object(at["a"])(e,3),s=a[0],o=a[1],i=a[2];return"".concat(s,"-").concat(o,"-").concat(i)},checkFiles:function(){var t=this,e=$("#file");if(e[0].files[0]){var a={email:this.email,pass:this.password,datanascimento:this.computedDateFormatted,nome:this.name,username:this.username};this.$store.dispatch("users/insertUser",a).then(function(e){var a=$("<input>").attr("type","hidden").attr("name","user").val(t.username);$("#uploadPic").append(a),$("#uploadPic").attr("action","http://localhost:3000/user/uploadProfilePic"),$("#uploadPic").submit()})}else this.snackbar=!0},checkForm:function(){this.$refs.form.validate()&&(this.dialog=!0)},resetForm:function(){this.dialog=!1},removeUpload:function(){var t=$("#file");t.val(""),console.log(t),$(".file-upload-content").hide(),$(".image-upload-wrap").show()},readURL:function(t){var e=$("#file");if(e[0].files[0]){this.selectedFile=t.target.files[0];var a=new FileReader;a.onload=function(){$(".image-upload-wrap").hide(),$(".file-upload-image").attr("src",a.result),$(".file-upload-content").show(),$(".image-title").html(e[0].files[0].name)},a.readAsDataURL(e[0].files[0])}else $(".file-upload-input").replaceWith($(".file-upload-input").clone()),$(".file-upload-content").hide(),$(".image-upload-wrap").show()}}};$(".image-upload-wrap").bind("dragover",function(){$(".image-upload-wrap").addClass("image-dropping")}),$(".image-upload-wrap").bind("dragleave",function(){$(".image-upload-wrap").removeClass("image-dropping")});var ot=st,it=(a("622d"),a("2e4b")),nt=Object(h["a"])(ot,tt,et,!1,null,"68e5e382",null);nt.options.__file="Register.vue";var rt=nt.exports;b()(nt,{VBtn:x["a"],VCard:k["a"],VCardActions:j["a"],VCardText:j["b"],VCardTitle:y["a"],VContainer:B["a"],VDatePicker:it["a"],VDialog:U["a"],VFlex:G["a"],VForm:W["a"],VIcon:V["a"],VImg:J["a"],VLayout:K["a"],VMenu:T["a"],VSnackbar:Q["a"],VSpacer:O["a"],VTextField:D["a"]});var ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("fab",{attrs:{position:"bottom-right","bg-color":"#f25a78",actions:t.fabActions},on:{addPhoto:t.addPhoto}}),t._l(t.getPosts,function(e,s){return a("div",{key:s,staticClass:"container"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-6 text-center"},[a("v-hover",{scopedSlots:t._u([{key:"default",fn:function(s){var o=s.hover;return a("v-card",{class:"elevation-"+(o?12:2),style:{cursor:"pointer"}},[a("v-card-title",[a("v-avatar",{attrs:{slot:"activator",size:"36px"},slot:"activator"},[null!=e.fotouser?a("img",{attrs:{id:"profile",src:"http://localhost:3000/public/uploads/profile/"+e.fotouser,alt:"Avatar",width:"36",height:"36"}}):t._e()]),a("span",{staticClass:"subheading font-weight-bold ml-3",on:{click:function(a){t.userPage(e.username)}}},[t._v(t._s(e.username))]),a("v-spacer"),a("v-icon",[t._v("location_on")]),a("span",{staticClass:"subheading font-weight-light"},[t._v(t._s(e.localizacao))])],1),a("v-img",{staticClass:"white--text",attrs:{height:"300px",src:"http://localhost:3000/public/uploads/posts/"+e.fotopub},on:{click:function(a){t.changeImage(e.fotopub)}}}),a("v-card-actions",[a("v-btn",{staticClass:"btnActions",attrs:{flat:"",icon:"",color:"#f03434"},on:{click:function(a){t.addLike(e.id_publicacao,e.hasGosto)}}},[a("v-icon",[t._v(t._s(t.checkLike(e.hasGosto)))])],1),e.nr_gostos>0?a("span",{staticClass:"font-weight-bold",style:{cursor:"pointer"},on:{click:function(a){t.getLikes(e.id_publicacao,e)}}},[t._v(t._s(e.nr_gostos)+" gosto(s)")]):t._e(),a("v-spacer"),a("v-btn",{staticClass:"btnActions",attrs:{flat:"",icon:"",color:"#abb7b7"},on:{click:function(a){t.getComments(e.id_publicacao,e)}}},[a("v-icon",[t._v("comment")])],1)],1),a("v-card-actions",{staticClass:"pl-4"},[a("span",{staticClass:"body-1 font-weight-bold mr-2"},[t._v(t._s(e.username))]),a("span",{staticClass:"body-1 font-weight-light"},[t._v(t._s(e.descricao))])]),a("v-slide-y-transition",[a("v-card-text",{directives:[{name:"show",rawName:"v-show",value:e.coment_show,expression:"post.coment_show"}]},[t._l(e.comentarios,function(e,s){return a("div",{key:s,staticClass:"pl-3",staticStyle:{"max-height":"100px!important"}},[a("div",{staticClass:"container text-left",staticStyle:{padding:"0px!important"}},[a("div",{staticClass:"row justify-content-start"},[a("div",{staticClass:"col-2"},[a("span",{staticClass:"body-1 font-weight-bold"},[t._v(t._s(e.username))])]),a("div",{staticClass:"col-8"},[a("span",{staticClass:"body-1 font-weight-light"},[t._v(t._s(e.comentario))])])])])])}),a("div",{staticClass:"container text-left mt-4",staticStyle:{padding:"0px!important"}},[a("div",{staticClass:"row justify-content-start"},[a("div",{staticClass:"col-1 mt-3"},[a("v-avatar",{attrs:{slot:"activator",size:"36px"},slot:"activator"},[null!=t.getUser.foto?a("img",{attrs:{id:"profile",src:"http://localhost:3000/public/uploads/profile/"+t.getUser.foto,alt:"Avatar",width:"36",height:"36"}}):t._e()])],1),a("div",{staticClass:"col-11"},[a("v-form",{ref:"form",refInFor:!0},[a("v-text-field",{attrs:{id:e.id_publicacao,"single-line":!0,counter:"200",color:"#f25a78",placeholder:"Adicionar um comentário ...","append-outer-icon":"send"},on:{"click:append-outer":function(a){t.addComment(e.id_publicacao)}},model:{value:t.comentario,callback:function(e){t.comentario=e},expression:"comentario"}})],1)],1)]),a("div",{staticClass:"row justify-content-start"},[a("div",{staticClass:"col-12 mt-3"},[a("span",{staticClass:"body-1 font-weight-thin"},[t._v(t._s(t.getDate(e.data)))])])])])],2)],1)],1)}}])})],1),a("div",{staticClass:"text-xs-center"},[a("v-dialog",{attrs:{scrollable:"",width:"450"},model:{value:e.dialog_likes,callback:function(a){t.$set(e,"dialog_likes",a)},expression:"post.dialog_likes"}},[a("v-card",[a("v-card-title",{staticClass:"headline #f03434 font-weight-light"},[a("v-icon",{staticClass:"mr-2",attrs:{color:"#f03434"}},[t._v("favorite")]),t._v("Gostos na publicação\r\n                            "),a("v-spacer"),a("v-icon",{staticClass:"mr-2",style:{cursor:"pointer"},attrs:{color:"#000"},on:{click:function(t){e.dialog_likes=!1}}},[t._v("close")])],1),a("v-card-text",{staticStyle:{"padding-top":"0px","max-height":"200px!important"}},t._l(e.likes,function(e,s){return a("div",{key:s,staticClass:"container",staticStyle:{"padding-top":"10px","padding-bottom":"5px"}},[a("div",{staticClass:"row justify-content-start"},[a("div",{staticClass:"col-10"},[a("v-avatar",{attrs:{slot:"activator",size:"30px"},slot:"activator"},[null!=e.foto?a("img",{attrs:{id:"profile",src:"http://localhost:3000/public/uploads/profile/"+e.foto,alt:"Avatar"}}):t._e()]),a("span",{staticClass:"subheading font-weight-light ml-3",style:{cursor:"pointer"},on:{click:function(a){t.userPage(e.username)}}},[t._v(t._s(e.username))])],1)])])}),0)],1)],1)],1),a("div",{staticClass:"text-xs-center"},[a("v-dialog",{attrs:{width:"900"},model:{value:t.dialog_image,callback:function(e){t.dialog_image=e},expression:"dialog_image"}},[a("v-card",[a("v-card-text",{staticStyle:{padding:"0px"}},[a("v-img",{staticClass:"white--text",attrs:{height:"500px",src:t.imageDialog}})],1)],1)],1)],1)])])}),a("v-layout",{attrs:{row:"","justify-center":""}},[a("v-dialog",{attrs:{persistent:"","max-width":"700px"},model:{value:t.dialog_add,callback:function(e){t.dialog_add=e},expression:"dialog_add"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Adicionar publicação")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{color:"#f25a78","prepend-icon":"place",label:"Localização",required:""},model:{value:t.localizacao,callback:function(e){t.localizacao=e},expression:"localizacao"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md12:""}},[a("v-textarea",{attrs:{color:"#f25a78","auto-grow":"",outline:"",name:"descricao",label:"Descrição",placeholder:"Máximo 300 carateres",counter:300,rules:t.descRules,required:""},model:{value:t.descricao,callback:function(e){t.descricao=e},expression:"descricao"}})],1),a("div",{staticClass:"file-upload"},[a("div",{staticClass:"image-upload-wrap"},[a("form",{attrs:{id:"uploadPic",method:"post",enctype:"multipart/form-data",action:""}},[a("input",{staticClass:"file-upload-input",attrs:{id:"file",name:"file",type:"file",accept:"image/*"},on:{change:t.readURL}})]),a("div",{staticClass:"drag-text"},[a("h3",[t._v("Arraste uma imagem para aqui")])])]),a("div",{staticClass:"file-upload-content"},[a("img",{staticClass:"file-upload-image",attrs:{src:"#",alt:"your image"}}),a("div",{staticClass:"image-title-wrap"},[a("v-btn",{staticClass:"white--text",attrs:{color:"blue-grey"},on:{click:t.removeUpload}},[a("v-icon",{attrs:{left:"",dark:""}},[t._v("delete")]),t._v("Remover\r\n                                        ")],1)],1)])])],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"#22313f",flat:""},on:{click:function(e){t.reset()}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"#f25a78",flat:""},on:{click:t.checkFiles}},[t._v("Publicar")])],1)],1)],1),a("v-snackbar",{attrs:{color:"error","multi-line":!1,timeout:6e3,top:!0},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\r\n            Obrigatório fazer upload de imagem para publicação\r\n            "),a("v-btn",{attrs:{dark:"",flat:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\r\n                Fechar\r\n            ")])],1)],1)],2)},lt=[],ut=(a("6b54"),a("f9e3"),a("2dd8"),a("c1df")),dt=a.n(ut),ft=a("87ac"),pt=a.n(ft);dt.a.locale("pt");var mt={components:{fab:pt.a},data:function(){return{user:"",comentario:"",imageDialog:"",snackbar:!1,valid:!1,localizacao:"",descricao:"",like:"favorite_border",color:"#abb7b7",dialog:!1,dialog_add:!1,dialog_image:!1,comments:!1,descRules:[function(t){return!!t||"Descrição é um campo obrigatório"},function(t){return t.length<=300||"A descrição deve conter menos de 300 carateres"}],rules:[function(t){return t.length<=200||"Máximo 200 carateres"}],fabActions:[{name:"addPhoto",icon:"photo_camera",tooltip:"Adicionar publicação"}]}},beforeCreate:function(){var t=this;this.$session.exists()?this.$store.dispatch("session/setUser",this.$session.get("id")).then(function(){t.$store.dispatch("posts/setPosts",t.getUser.id_user)}):this.$router.push("/")},created:function(){this.$store.dispatch("posts/setPosts",this.getUser.id_user)},computed:Object(l["a"])({},Object(u["b"])({getUser:"session/getUser",getPosts:"posts/getPosts"})),methods:{addLike:function(t,e){var a=this;if(1!=e){var s={data:dt()().format("DD-MM-YYYY HH:mm:ss"),id_publicacao:t,id_user:this.getUser.id_user};this.$store.dispatch("posts/insertLike",s).then(function(t){a.$store.dispatch("posts/setPosts",a.getUser.id_user)})}else{s={id_publicacao:t,id_user:this.getUser.id_user};this.$store.dispatch("posts/deleteLike",s).then(function(t){a.$store.dispatch("posts/setPosts",a.getUser.id_user)})}},getComments:function(t,e){this.$store.dispatch("posts/setComments",t).then(function(t){e.coment_show=!e.coment_show})},getLikes:function(t,e){this.$store.dispatch("posts/setLikes",t,e).then(function(t){return e.dialog_likes=!0,t.length})},addComment:function(t){var e=this,a=$("#"+t);if(a.val().length>0){var s={comentario:a.val(),id_publicacao:t,id_user:this.getUser.id_user};this.$store.dispatch("posts/insertComment",s).then(function(a){e.$store.dispatch("posts/setComments",t).then(function(){e.comentario=""})})}},getDate:function(t){return dt()(t,"DD-MM-YYYY HH:mm:ss").fromNow()},checkLike:function(t){return 1==t?"favorite":"favorite_border"},userPage:function(t){this.$router.push("/UserPage/"+t)},addPhoto:function(){this.dialog_add=!0},checkFiles:function(){var t=$("#file");if(this.dialog_add=!1,t[0].files[0]){var e=Math.random().toString(36).substring(2),a={descricao:this.descricao,data:dt()().format("DD-MM-YYYY HH:mm:ss"),localizacao:this.localizacao,foto:e+".png",id_user:this.getUser.id_user};this.$store.dispatch("posts/insertPost",a).then(function(t){var a=$("<input>").attr("type","hidden").attr("name","foto").val(e);$("#uploadPic").append(a),$("#uploadPic").attr("action","http://localhost:3000/posts/uploadPostPic"),$("#uploadPic").submit()})}else this.snackbar=!0},removeUpload:function(){var t=$("#file");t.val(""),console.log(t),$(".file-upload-content").hide(),$(".image-upload-wrap").show()},readURL:function(t){var e=$("#file");if(e[0].files[0]){this.selectedFile=t.target.files[0];var a=new FileReader;a.onload=function(){$(".image-upload-wrap").hide(),$(".file-upload-image").attr("src",a.result),$(".file-upload-content").show(),$(".image-title").html(e[0].files[0].name)},a.readAsDataURL(e[0].files[0])}else $(".file-upload-input").replaceWith($(".file-upload-input").clone()),$(".file-upload-content").hide(),$(".image-upload-wrap").show()},reset:function(){this.dialog_add=!1,this.localizacao=this.descricao="",this.removeUpload()},changeImage:function(t){this.imageDialog="http://localhost:3000/public/uploads/posts/"+t,this.dialog_image=!0}}};$(".image-upload-wrap").bind("dragover",function(){$(".image-upload-wrap").addClass("image-dropping")}),$(".image-upload-wrap").bind("dragleave",function(){$(".image-upload-wrap").removeClass("image-dropping")});var vt=mt,ht=(a("96bc"),a("ce87")),gt=a("0789"),bt=a("a844"),_t=Object(h["a"])(vt,ct,lt,!1,null,"1b0bec5d",null);_t.options.__file="Feed.vue";var wt=_t.exports;b()(_t,{VAvatar:w["a"],VBtn:x["a"],VCard:k["a"],VCardActions:j["a"],VCardText:j["b"],VCardTitle:y["a"],VContainer:B["a"],VDialog:U["a"],VFlex:G["a"],VForm:W["a"],VHover:ht["a"],VIcon:V["a"],VImg:J["a"],VLayout:K["a"],VSlideYTransition:gt["d"],VSnackbar:Q["a"],VSpacer:O["a"],VTextField:D["a"],VTextarea:bt["a"]});var xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-2 text-center",staticStyle:{display:"inline-flex"}},[null!=this.user.foto?a("v-avatar",{attrs:{slot:"activator",size:"150px"},slot:"activator"},[a("img",{attrs:{id:"profile",src:"http://localhost:3000/public/uploads/profile/"+this.user.foto,alt:"Avatar"}})]):t._e(),t.getUser.username==this.user.username?a("div",{staticClass:"col-2"},[a("v-tooltip",{attrs:{top:""}},[a("v-btn",{attrs:{slot:"activator",color:"#f25a78",fab:"",small:"",dark:""},on:{click:function(e){t.dialog_edit=!0}},slot:"activator"},[a("v-icon",[t._v("edit")])],1),a("span",[t._v("Editar perfil")])],1)],1):t._e(),t.getUser.username==this.user.username||t.isFollowed(this.user.id_user)?t._e():a("div",{staticClass:"col-2"},[a("v-tooltip",{attrs:{top:""}},[a("v-btn",{attrs:{slot:"activator",color:"#f25a78",fab:"",dark:""},on:{click:function(e){t.follow()}},slot:"activator"},[a("v-icon",[t._v("person_add")])],1),a("span",[t._v("Seguir")])],1)],1),t.getUser.username!=this.user.username&&t.isFollowed(this.user.id_user)?a("div",{staticClass:"col-2"},[a("v-tooltip",{attrs:{top:""}},[a("v-btn",{attrs:{slot:"activator",color:"#f25a78",fab:"",dark:""},on:{click:function(e){t.unfollow()}},slot:"activator"},[a("v-icon",[t._v("done")])],1),a("span",[t._v("Deixar de seguir")])],1)],1):t._e()],1)]),a("div",{staticClass:"row justify-content-center mt-4"},[a("div",{staticClass:"col-3 text-center"},[a("span",{staticClass:"display-2 font-weight-light"},[t._v("@"+t._s(this.user.username))])])]),a("div",{staticClass:"row justify-content-center mt-4"},[a("div",{staticClass:"col-3 text-center"},[a("span",{staticClass:"title font-weight-thin"},[t._v(t._s(this.user.nome))])])]),a("div",{staticClass:"row justify-content-center mt-4"},[a("div",{staticClass:"col-2 text-center",staticStyle:{display:"contents"}},[a("v-btn",{staticStyle:{"text-decoration":"none"},attrs:{flat:"",color:"#22313f"},on:{click:function(e){t.openModal("Seguidores")}}},[a("v-icon",{attrs:{dark:"",left:""}},[t._v("supervisor_account")]),t._v("Seguidores\r\n            ")],1),a("v-btn",{staticStyle:{"text-decoration":"none"},attrs:{flat:"",color:"#22313f"},on:{click:function(e){t.openModal("A seguir")}}},[a("v-icon",{attrs:{dark:"",left:""}},[t._v("supervised_user_circle")]),t._v("A seguir\r\n            ")],1)],1)]),a("v-divider"),a("div",{staticClass:"row justify-content-center mt-4"},[a("div",{staticClass:"col-3 text-center"},[a("v-icon",[t._v("dashboard")]),a("span",{staticClass:"headline font-weight-light"},[t._v("  Publicações")])],1)]),a("div",{staticClass:"container"},[a("div",{staticClass:"row justify-content-arround mt-5"},t._l(t.postsUser,function(e,s){return a("div",{key:s},[null!=e.fotopub?a("div",{staticClass:"col-4 text-center mt-4"},[a("v-hover",{scopedSlots:t._u([{key:"default",fn:function(s){var o=s.hover;return a("v-card",{staticClass:"mx-auto",attrs:{color:"grey lighten-4",width:"340"}},[a("v-img",{attrs:{height:"340px",src:"http://localhost:3000/public/uploads/posts/"+e.fotopub}},[a("v-expand-transition",[o?a("div",{staticClass:"d-flex transition-fast-in-fast-out black darken-2 v-card--reveal display-3 white--text",staticStyle:{height:"100%"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-2"},[a("v-icon",{attrs:{color:"#fff",large:""}},[t._v("message")])],1),a("div",{staticClass:"col-2",staticStyle:{"padding-left":"0px"}},[a("span",{staticClass:"mr-4",staticStyle:{"font-size":"30px"}},[t._v(t._s(e.coments))])]),a("div",{staticClass:"col-2"},[a("v-icon",{attrs:{color:"#fff",large:""}},[t._v("favorite")])],1),a("div",{staticClass:"col-2",staticStyle:{"padding-left":"0px"}},[a("span",{staticClass:"mr-4",staticStyle:{"font-size":"30px"}},[t._v(t._s(e.gostos))])])])])]):t._e()])],1)],1)}}])})],1):t._e()])}),0)]),a("v-dialog",{attrs:{scrollable:"","max-width":"400px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline #f03434 font-weight-medium"},[t._v("\r\n                "+t._s(t.dialogTitle)+"\r\n                "),a("v-spacer"),a("v-icon",{staticClass:"mr-2",style:{cursor:"pointer"},attrs:{color:"#000"},on:{click:function(e){t.dialog=!1}}},[t._v("close")])],1),a("v-card-text",{staticStyle:{"max-height":"200px"}},t._l(t.arrayFollow,function(e,s){return a("div",{key:s},[a("div",{staticClass:"row justify-content-start"},[a("div",{staticClass:"col-8"},[null!=e.foto?a("v-avatar",{style:{cursor:"pointer"},attrs:{slot:"activator",size:"30px"},on:{click:function(a){t.changePage(e.username)}},slot:"activator"},[a("img",{attrs:{id:"profile",src:"http://localhost:3000/public/uploads/profile/"+e.foto,alt:"Avatar"}})]):t._e(),a("a",{staticClass:"subheading font-weight-light ml-3",style:{cursor:"pointer"},on:{click:function(a){t.changePage(e.username)}}},[t._v(t._s(e.username))])],1),a("div",{staticClass:"row align-items-start"},[t.isFollowed(e.id_user)||e.id_user==t.getUser.id_user?t._e():a("div",{staticClass:"col-3"},[a("v-btn",{attrs:{id:"follow",small:"",color:"#f25a78"},on:{click:function(a){t.followFollower(e.id_user)}}},[t._v("Seguir")])],1),e.id_user==t.getUser.id_user||t.isFollowed(e.id_user)?a("div",{staticClass:"col-3"},[a("v-tooltip",{attrs:{top:""}},[a("v-btn",{attrs:{slot:"activator",small:"",disabled:"",color:"primary"},slot:"activator"},[t._v("Seguir")]),a("span",[t._v("Já segue este utilizador")])],1)],1):t._e()])])])}),0),a("v-spacer")],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialog_edit,callback:function(e){t.dialog_edit=e},expression:"dialog_edit"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Editar perfil")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-12 text-center mb-2"},[a("v-text-field",{attrs:{rules:t.emailRules,label:"E-mail",required:"",color:"#f25a78",outline:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),a("div",{staticClass:"col-12 text-center mb-2"},[a("v-text-field",{attrs:{rules:t.usernameRules,counter:10,label:"Username",required:"",color:"#f25a78",outline:""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),a("div",{staticClass:"col-12 text-center mb-2"},[a("v-text-field",{attrs:{label:"Password",rules:t.passwordRules,required:"",color:"#f25a78",outline:"",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("div",{staticClass:"col-12 text-center mb-2"},[a("v-text-field",{attrs:{rules:t.nameRules,label:"Nome",counter:30,required:"",color:"#f25a78",outline:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("div",{staticClass:"col-12 text-center mb-2"},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[a("v-text-field",{attrs:{slot:"activator",label:"Data de nascimento","prepend-icon":"event",readonly:""},slot:"activator",model:{value:t.computedDateFormatted,callback:function(e){t.computedDateFormatted=e},expression:"computedDateFormatted"}}),a("v-date-picker",{attrs:{color:"#f25a78",locale:"pt-pt"},on:{input:function(e){t.menu2=!1}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1)])])])],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(e){t.dialog_edit=!1}}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(e){t.checkForm()}}},[t._v("Gravar")])],1)],1)],1),a("v-snackbar",{attrs:{color:"success","multi-line":!1,timeout:6e3,top:!0},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\r\n        Utilizador editado com sucesso\r\n        "),a("v-btn",{attrs:{dark:"",flat:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\r\n            Fechar\r\n        ")])],1)],1)},kt=[],jt=a("bd86");dt.a.locale("pt");var yt={data:function(){return{user:{},segue:!1,snackbar:!1,dialogTitle:"",valid:!1,dialog:!1,dialog_edit:!1,arrayFollow:[{}],loginUserSeguidores:[{}],postsUser:[{}],email:"",username:"",password:"",name:"",menu2:!1,emailRules:[function(t){return!!t||"E-mail é um campo obrigatório"},function(t){return/.+@.+/.test(t)||"Registe um e-mail válido"}],nameRules:[function(t){return!!t||"Nome é um campo obrigatório"},function(t){return t.length<=30||"O nome deve conter menos de 30 carateres"}],usernameRules:[function(t){return!!t||"Username é um campo obrigatório"},function(t){return t.length<=10||"O username deve conter menos de 10 carateres"}],passwordRules:[function(t){return!!t||"Password é um campo obrigatório"}],date:(new Date).toISOString().substr(0,10)}},watch:{$route:function(t,e){var a=this;this.$store.dispatch("users/getUser",this.$route.params.username).then(function(t){a.user=t,a.$store.dispatch("posts/setPostsUser",a.user.id_user).then(function(t){a.postsUser=t,console.log(a.postsUser)})}),this.$store.dispatch("users/getFollowing",this.getUser.id_user).then(function(t){a.loginUserSeguidores=t})}},computed:Object(l["a"])({computedDateFormatted:function(){return this.formatDate(this.date)}},Object(u["b"])({getUser:"session/getUser"})),methods:Object(jt["a"])({formatDate:function(t){if(!t)return null;var e=t.split("-"),a=Object(at["a"])(e,3),s=a[0],o=a[1],i=a[2];return"".concat(s,"-").concat(o,"-").concat(i)},checkForm:function(){},getUserPage:function(){return this.$route.params.username},follow:function(){var t=this,e={id_seguidor:this.getUser.id_user,id_seguido:this.user.id_user};this.$store.dispatch("users/addFollower",e).then(function(e){t.$store.dispatch("users/getFollowing",t.getUser.id_user).then(function(e){t.loginUserSeguidores=e})})},followFollower:function(t){var e=this,a={id_seguidor:this.getUser.id_user,id_seguido:t};this.$store.dispatch("users/addFollower",a).then(function(t){e.$store.dispatch("users/getFollowing",e.getUser.id_user).then(function(t){e.loginUserSeguidores=t})})},unfollow:function(){var t=this,e={id_seguidor:this.getUser.id_user,id_seguido:this.user.id_user};this.$store.dispatch("users/deleteLike",e).then(function(e){t.$store.dispatch("users/getFollowing",t.getUser.id_user).then(function(e){t.loginUserSeguidores=e})})},openModal:function(t){var e=this;this.dialogTitle=t,this.dialog=!0,"Seguidores"==t?this.$store.dispatch("users/getFollowers",this.user.id_user).then(function(t){e.dialogTitle="Seguidores ("+t.length+")",e.arrayFollow=t}):this.$store.dispatch("users/getFollowing",this.user.id_user).then(function(t){e.dialogTitle="A seguir ("+t.length+")",e.arrayFollow=t})},isFollowed:function(t){var e=this.loginUserSeguidores.find(function(e){return e.id_user==t});return!!e},changePage:function(t){this.dialog=!1,this.$router.push("/UserPage/"+t)}},"checkForm",function(){var t=this;if(this.$refs.form.validate()){var e={email:this.email,pass:this.password,datanascimento:this.computedDateFormatted,nome:this.name,username:this.username,id_user:this.getUser.id_user};this.$store.dispatch("users/editUser",e).then(function(e){t.$store.dispatch("session/setUser",t.$session.get("id")),t.$store.dispatch("users/getUser",t.$route.params.username).then(function(e){t.user=e})}),this.dialog_edit=!1,this.snackbar=!0}}),created:function(){var t=this;this.$store.dispatch("users/getUser",this.$route.params.username).then(function(e){t.email=t.getUser["e-mail"],t.username=t.getUser.username,t.password=t.getUser.password,t.name=t.getUser.nome,t.date=new Date(t.getUser.data_nascimento).toISOString().substr(0,10),t.user=e;var a={id_seguidor:t.getUser.id_user,id_seguido:t.user.id_user};t.$store.dispatch("users/isFollower",a).then(function(e){e.length>0&&(t.segue=!0)}),t.$store.dispatch("users/getFollowing",t.getUser.id_user).then(function(e){t.loginUserSeguidores=e}),t.$store.dispatch("posts/setPostsUser",t.user.id_user).then(function(e){t.postsUser=e})})}},Ct=yt,Ut=(a("fd38"),a("ce7e6")),$t=a("3a2f"),St=Object(h["a"])(Ct,xt,kt,!1,null,"3b049ae6",null);St.options.__file="UserPage.vue";var Ft=St.exports;b()(St,{VAvatar:w["a"],VBtn:x["a"],VCard:k["a"],VCardActions:j["a"],VCardText:j["b"],VCardTitle:y["a"],VContainer:B["a"],VDatePicker:it["a"],VDialog:U["a"],VDivider:Ut["a"],VExpandTransition:gt["a"],VForm:W["a"],VHover:ht["a"],VIcon:V["a"],VImg:J["a"],VLayout:K["a"],VMenu:T["a"],VSnackbar:Q["a"],VSpacer:O["a"],VTextField:D["a"],VTooltip:$t["a"]}),s["default"].use(q["a"]);var Vt=new q["a"]({mode:"history",routes:[{path:"/",name:"Login",component:Z},{path:"/Register",name:"Register",component:rt},{path:"/Feed",name:"Feed",component:wt},{path:"/UserPage/:username",name:"UserPage",component:Ft}]}),Pt=a("795b"),zt=a.n(Pt),Lt={userLogin:{}},Tt={SET_USER_LOGIN:function(t,e){t.userLogin=e}},Ot={checkUser:function(t,e){var a=t.commit;return new zt.a(function(t,s){f.a.post("http://localhost:3000/user/login",{username:e.user,password:e.pass}).then(function(e){e.data?(a("SET_USER_LOGIN",e.data),t(e.data.id_user)):t(null)}).catch(function(t){console.log(t),s(t)})})},setUser:function(t,e){var a=t.commit;return new zt.a(function(t,s){f.a.post("http://localhost:3000/user/getUser",{id:e}).then(function(e){e.data.length>0?(a("SET_USER_LOGIN",e.data[0]),t(e.data[0])):t(null)}).catch(function(t){console.log(t),s(t)})})}},Dt={getUser:function(t){return t.userLogin}},Rt={namespaced:!0,state:Lt,getters:Dt,actions:Ot,mutations:Tt},At={},Et={},Mt={insertUser:function(t,e){t.commit;return new zt.a(function(t,a){f.a.post("http://localhost:3000/user/insertUser",{email:e.email,password:e.pass,datanascimento:e.datanascimento,nome:e.nome,username:e.username}).then(function(e){t(e)}).catch(function(t){console.log(t),a(t)})})},editUser:function(t,e){t.commit;return new zt.a(function(t,a){f.a.put("http://localhost:3000/user/editUser",{email:e.email,password:e.pass,datanascimento:e.datanascimento,nome:e.nome,username:e.username,id_user:e.id_user}).then(function(e){t(e)}).catch(function(t){console.log(t),a(t)})})},getUser:function(t,e){t.commit;return new zt.a(function(t,a){f.a.post("http://localhost:3000/user/getUserByName",{username:e}).then(function(e){t(e.data[0])}).catch(function(t){console.log(t),a(t)})})},isFollower:function(t,e){t.commit;return new zt.a(function(t,a){f.a.post("http://localhost:3000/user/follow",{id_seguidor:e.id_seguidor,id_seguido:e.id_seguido}).then(function(e){t(e.data)}).catch(function(t){console.log(t),a(t)})})},addFollower:function(t,e){t.commit;return new zt.a(function(t,a){f.a.post("http://localhost:3000/user/createFollower",{id_seguidor:e.id_seguidor,id_seguido:e.id_seguido}).then(function(e){t(e.data)}).catch(function(t){console.log(t),a(t)})})},deleteLike:function(t,e){t.commit;return new zt.a(function(t,a){f.a.delete("http://localhost:3000/user/unFollow",{data:{id_seguidor:e.id_seguidor,id_seguido:e.id_seguido}}).then(function(e){t(e)}).catch(function(t){console.log(t),a(t)})})},getFollowers:function(t,e){t.commit;return new zt.a(function(t,a){f.a.post("http://localhost:3000/user/getFollowers",{id_user:e}).then(function(e){t(e.data)}).catch(function(t){console.log(t),a(t)})})},getFollowing:function(t,e){t.commit;return new zt.a(function(t,a){f.a.post("http://localhost:3000/user/getFollowing",{id_user:e}).then(function(e){t(e.data)}).catch(function(t){console.log(t),a(t)})})},searchUser:function(t,e){t.commit;return new zt.a(function(t,a){f.a.post("http://localhost:3000/user/search",{texto:e}).then(function(e){t(e.data)}).catch(function(t){console.log(t),a(t)})})}},qt={},It={namespaced:!0,state:At,getters:qt,actions:Mt,mutations:Et},Ht=a("5d73"),Yt=a.n(Ht),Nt={posts:[]},Bt={SET_POSTS:function(t,e){t.posts=e}},Gt={setPosts:function(t,e){var a=t.commit;t.rootState;return new zt.a(function(t,s){f.a.get("http://localhost:3000/posts/getAll/"+e).then(function(e){var s=!0,o=!1,i=void 0;try{for(var n,r=Yt()(e.data);!(s=(n=r.next()).done);s=!0){var c=n.value;c.coment_show=!1,c.dialog_likes=!1}}catch(l){o=!0,i=l}finally{try{s||null==r.return||r.return()}finally{if(o)throw i}}a("SET_POSTS",e.data),t(e.data)}).catch(function(t){console.log(t),s(t)})})},setPostsUser:function(t,e){t.commit,t.rootState;return new zt.a(function(t,a){f.a.get("http://localhost:3000/posts/getPostsUser/"+e).then(function(e){t(e.data)}).catch(function(t){console.log(t),a(t)})})},setComments:function(t,e){var a=t.commit,s=Nt.posts.find(function(t){return t.id_publicacao==e});return new zt.a(function(t,o){f.a.get("http://localhost:3000/posts/getComments/"+e).then(function(e){s.comentarios=e.data,a("SET_POSTS",Nt.posts),t(e.data)}).catch(function(t){console.log(t),o(t)})})},setLikes:function(t,e,a){var s=t.commit,o=Nt.posts.find(function(t){return t.id_publicacao==e});return new zt.a(function(t,a){f.a.get("http://localhost:3000/posts/getLikes/"+e).then(function(e){o.likes=e.data,s("SET_POSTS",Nt.posts),t(Nt.posts)}).catch(function(t){console.log(t),a(t)})})},insertComment:function(t,e){t.commit;return new zt.a(function(t,a){f.a.post("http://localhost:3000/posts/insertComment",{comentario:e.comentario,id_user:e.id_user,id_publicacao:e.id_publicacao}).then(function(e){t(e)}).catch(function(t){console.log(t),a(t)})})},insertLike:function(t,e){t.commit;return new zt.a(function(t,a){f.a.post("http://localhost:3000/posts/insertLike",{data:e.data,id_user:e.id_user,id_publicacao:e.id_publicacao}).then(function(e){t(e)}).catch(function(t){console.log(t),a(t)})})},deleteLike:function(t,e){t.commit;return new zt.a(function(t,a){f.a.delete("http://localhost:3000/posts/deleteLike",{data:{id_user:e.id_user,id_publicacao:e.id_publicacao}}).then(function(e){t(e)}).catch(function(t){console.log(t),a(t)})})},insertPost:function(t,e){t.commit;return new zt.a(function(t,a){f.a.post("http://localhost:3000/posts/insertPost",{descricao:e.descricao,data:e.data,foto:e.foto,localizacao:e.localizacao,id_user:e.id_user}).then(function(e){t(e)}).catch(function(t){console.log(t),a(t)})})}},Wt={getPosts:function(t){return t.posts}},Jt={namespaced:!0,state:Nt,getters:Wt,actions:Gt,mutations:Bt};s["default"].use(u["a"]);var Kt=new u["a"].Store({modules:{session:Rt,users:It,posts:Jt}}),Qt=a("0628"),Xt=a.n(Qt),Zt=a("2a2e"),te=a.n(Zt),ee=a("9f7b");s["default"].use(ee["a"]),s["default"].use(te.a),s["default"].use(pt.a),s["default"].config.productionTip=!1;var ae={persist:!0};s["default"].use(Xt.a,ae),new s["default"]({render:function(t){return t(M)},router:Vt,store:Kt,fab:pt.a}).$mount("#app")},"622d":function(t,e,a){"use strict";var s=a("ac03"),o=a.n(s);o.a},"6e7d":function(t,e,a){t.exports=a.p+"img/add-user.5689cead.svg"},9176:function(t,e,a){},"96bc":function(t,e,a){"use strict";var s=a("c88a"),o=a.n(s);o.a},ac03:function(t,e,a){},c88a:function(t,e,a){},ce73:function(t,e,a){"use strict";var s=a("2d07"),o=a.n(s);o.a},df6f:function(t,e,a){},fd38:function(t,e,a){"use strict";var s=a("9176"),o=a.n(s);o.a}});
//# sourceMappingURL=app.62046ce5.js.map